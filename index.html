<!DOCTYPE html>
<html lang="en">

<head>
  <title>@kev_nz/async-tools - Utility functions for working with async javascript - Kevin Isom</title>
  <link rel="stylesheet" type="text/css" href="styles.css" />
  <link rel="stylesheet" type="text/css" href="extend.css" />
  <meta name="description" content="Async tools - a collection of utility functions for working with async/await code." />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/styles/github.min.css" />

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="@kev_nz/async-tools - utility functions for working with async javascript - Kevin Isom" />
  <meta property="og:type" content="website" />
  <meta property="og:description" content="Useful utility functions for working with async javascript" />
  <meta property="og:url" content="https://kevinisom.info/async-tools" />
  <meta property="og:image" content="https://avatars3.githubusercontent.com/u/62547?s=400&amp;v=4" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@kev_nz" />
  <meta name="twitter:title" content="@kev_nz/async-tools - utility functions for working with async javascript - Kevin Isom" />
  <meta name="twitter:description" content="Useful utility functions for working with async javascript" />
  <meta name="twitter:image" content="https://avatars3.githubusercontent.com/u/62547?s=400&amp;v=4" />

</head>

<body>
  <div class="container">
  <h1 id="async-tools">Async Tools</h1>
<p><a href="https://badge.fury.io/js/%40kev_nz%2Fasync-tools"><img src="https://badge.fury.io/js/%40kev_nz%2Fasync-tools.svg" alt="npm version" /></a> <img src="https://img.shields.io/circleci/project/github/Kevnz/async-tools/master.svg" alt="Build Status" /> <a href="https://coveralls.io/github/Kevnz/async-tools?branch=master"><img src="https://coveralls.io/repos/github/Kevnz/async-tools/badge.svg?branch=master" alt="Coverage Status" /></a></p>
<p>This is a collection of utility functions for working with async/await code.</p>
<h2 id="install">Install</h2>
<pre><code class="hljs"><span class="hljs-selector-tag">npm</span> <span class="hljs-selector-tag">install</span> @<span class="hljs-keyword">kev_nz</span>/<span class="hljs-keyword">async</span>-<span class="hljs-keyword">tools</span></code></pre>
<h2 id="api-usage">API Usage</h2>
<p>Here are the functions provided. Additionally feel free to look at the tests in the project as well.</p>
<h3 id="delay">Delay</h3>
<p>The delay method allows you to use wait a number of milliseconds before continuing the exection of your code.</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">const</span> { delay } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@kev_nz/async-tools'</span>)

(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">await</span> delay(<span class="hljs-number">100</span>)
  <span class="hljs-built_in">console</span>.info(<span class="hljs-string">'~100 milliseconds later'</span>)
})()</code></pre>
<h3 id="mapper">Mapper</h3>
<p>Execute an asynchronous mapping function over an array of returning the result.</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">const</span> { mapper } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@kev_nz/async-tools'</span>)

(<span class="hljs-keyword">async</span> () =&gt; {

  <span class="hljs-keyword">const</span> items = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
  <span class="hljs-keyword">const</span> mappedItems = <span class="hljs-keyword">await</span> mapper(items, anAsynchronousFunction)
  <span class="hljs-comment">// passing in an additional concurrency value specifies the number of async methods executed at a time</span>
  <span class="hljs-keyword">const</span> mappedItemsAgain = <span class="hljs-keyword">await</span> mapper(items, anAsynchronousFunction, <span class="hljs-number">2</span>)
})()</code></pre>
<h3 id="reducer">Reducer</h3>
<p>Execute asynchronous reducer functions over a starting value.</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">const</span> { delay, reducer } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@kev_nz/async-tools'</span>)

<span class="hljs-keyword">const</span> anAsyncFunction = <span class="hljs-keyword">async</span> val =&gt; {
  <span class="hljs-keyword">await</span> delay(<span class="hljs-number">10</span>)
  <span class="hljs-keyword">return</span> val + <span class="hljs-number">1</span>
}
(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> finalValue = <span class="hljs-keyword">await</span> reducer(<span class="hljs-number">0</span>,
    anAsyncFunction,
    anAsyncFunction,
    anAsyncFunction
  )
  <span class="hljs-comment">//finalValue 3</span>
})()</code></pre>
<h3 id="each">Each</h3>
<p>Execute an asynchronous function over an array one item at a time.</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">const</span> { each } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@kev_nz/async-tools'</span>)

(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> items = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
  <span class="hljs-keyword">const</span> [first, second, third] = <span class="hljs-keyword">await</span> each(items, anAsyncFunction)
})()</code></pre>
<h3 id="composer">Composer</h3>
<p>Take number of functions and compose them together.</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">const</span> { composer } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@kev_nz/async-tools'</span>)

<span class="hljs-keyword">const</span> anAsyncFunction = <span class="hljs-keyword">async</span> val =&gt; {
  <span class="hljs-keyword">await</span> delay(<span class="hljs-number">10</span>)
  <span class="hljs-keyword">return</span> val + <span class="hljs-number">1</span>
}
<span class="hljs-keyword">const</span> anotherAsyncFunction = <span class="hljs-keyword">async</span> val =&gt; {
  <span class="hljs-keyword">await</span> delay(<span class="hljs-number">10</span>)
  <span class="hljs-keyword">return</span> val + <span class="hljs-number">2</span>
}

(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> asyncChain = composer(
    anAsyncFunction,
    anotherAsyncFunction,
    anAsyncFunction
  )
  <span class="hljs-keyword">const</span> finalValue = <span class="hljs-keyword">await</span> asyncChain(<span class="hljs-number">0</span>)
  <span class="hljs-comment">//finalValue 4</span>
})()</code></pre>
<h3 id="holder">Holder</h3>
<p>When used with composer it lets you pass additional parameters to a function in the composed.</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">const</span> { composer, holder } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@kev_nz/async-tools'</span>)

<span class="hljs-keyword">const</span> anAsyncFunction = <span class="hljs-keyword">async</span> val =&gt; {
  <span class="hljs-keyword">await</span> delay(<span class="hljs-number">10</span>)
  <span class="hljs-keyword">return</span> val + <span class="hljs-number">1</span>
}
<span class="hljs-keyword">const</span> anotherAsyncFunction = <span class="hljs-keyword">async</span> (val, secondValue) =&gt; {
  <span class="hljs-keyword">await</span> delay(<span class="hljs-number">10</span>)
  <span class="hljs-keyword">return</span> val + secondValue
}

(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> asyncChain = composer(
    anAsyncFunction,
    holder(anotherAsyncFunction, <span class="hljs-number">3</span>),
    anAsyncFunction
  )
  <span class="hljs-keyword">const</span> finalValue = <span class="hljs-keyword">await</span> asyncChain(<span class="hljs-number">0</span>)
  <span class="hljs-comment">//finalValue 5</span>
})()</code></pre>
<h3 id="timeout">Timeout</h3>
<p>Take number of functions and compose them together.</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">const</span> { timeout } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@kev_nz/async-tools'</span>)

(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> timeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> thingThatIsLongRunning())

})()</code></pre>
<h3 id="test-coverage">Test Coverage</h3>
<ul>
<li><a href="https://coveralls.io/github/Kevnz/async-tools?branch=master">Coveralls</a></li>
<li><a href="http://kevinisom.info/async-tools/coverage/lcov-report/">Coverage Results</a></li>
</ul>
  </div>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-64038939-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'UA-64038939-2');
</script>

</body>